1. 合并资源比并行下载资源更快吗?

对于体积较大的资源,是否合并对于加载时间没有明显影响,但拆分资源可以更好地利用浏览器缓存,不会因为某个资源的更新导致所有资源缓存失效,而资源合并后,任一资源的更新都会导致整体资源的缓存失效.另外还可以利用域名分片技术,将资源拆分部署到不同域名下,即可以分散服务器的压力,又可以避免网络抖动带来的影响.

对于小资源,合并资源往往具有更快的加载速度,但在网络带宽状态良好的情况下,因为提升的时间单位以 ms 计量,收益可以忽略,如果网络延迟很大,服务器响应速度慢,则可以带来一定的收益,但是在高延迟的网络场景下,又要注意合并资源后可能带来的网络往返次数的增加,进而影响到请求时间.

2. CDN的原理

CDN的基本原理是广泛采用各种缓存服务器，将这些缓存服务器分布到用户访问相对集中地区或网络中，在用户访问网站时，利用全局负载技术将用户的访问指向距离最近的工作正常的缓存服务器上，由缓存服务器直接响应用户请求。最简单的CDN网络由一个DNS服务器和几台缓存服务器就可以组成，当用户输入URL按下回车，经过本地DNS系统解析，DNS系统会最终将域名的解析权交给CNAME指向的CDN专用DNS服务器，然后将得到全局负载均衡设备的IP地址，用户向全局负载设备发送内容访问请求，全局负载均衡设备将实时根据网络流量和各节点的连接，负载状态以及到用户的距离和响应时间等综合信息将用户的请求重新导向离用户最近的服务节点上，使用户就近取得所需内容，解决internet网络拥挤的情况，提高用户访问网站的响应速度。
